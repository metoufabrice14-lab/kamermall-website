<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kamermall - Marketplace 100% Camerounaise</title>
  <!-- Font Awesome pour les icônes -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
    :root {
      --red: #e60000;
      --bg: #f8f8f8;
      --text: #333;
      --card: #ffffff;
      --muted: #777;
    }

    * { box-sizing: border-box; }
    html, body { margin: 0; padding: 0; font-family: Arial, sans-serif; color: var(--text); background: var(--bg); }

    .announcement-bar {
      background: var(--red);
      color: #fff;
      text-align: center;
      padding: 10px 0;
      font-weight: bold;
    }

    header { background: #fff; box-shadow: 0 2px 4px rgba(0,0,0,.1); position: sticky; top: 0; z-index: 10; }
    .header-top, .header-bottom {
      display: flex; align-items: center; justify-content: space-between;
      padding: 10px 20px;
    }
    .logo { display: flex; align-items: center; text-decoration: none; color: #000; }
    .logo-icon { font-size: 40px; color: var(--red); margin-right: 10px; }
    .logo-text { font-size: 22px; font-weight: bold; }
    .logo-tagline { font-size: 12px; color: var(--muted); }

    .contact-info { display: flex; gap: 12px; align-items: center; }
    .contact-item { display: inline-flex; align-items: center; text-decoration: none; color: #333; font-size: 13px; }
    .contact-item i { margin-right: 6px; color: var(--red); }

    .user-actions { display: flex; gap: 14px; align-items: center; }
    .action-btn { display: inline-flex; align-items: center; text-decoration: none; color: #333; font-size: 13px; }
    .action-btn i { margin-right: 6px; font-size: 16px; }

    .search-container { display: flex; align-items: center; gap: 8px; }

    .search-box {
      padding: 8px 12px; border: 1px solid #ccc; border-radius: 6px;
      min-width: 260px; background: #fff;
    }

    .search-btn {
      background: var(--red); color: #fff; border: none;
      padding: 8px 12px; border-radius: 6px; cursor: pointer;
    }

    .hamburger { display: none; flex-direction: column; cursor: pointer; width: 30px; height: 25px; justify-content: space-between; }
    .hamburger span { display: block; height: 3px; background: #333; border-radius: 2px; transition: 0.3s; }

    nav { background: #fff; }

    .nav-menu { list-style: none; padding: 0; margin: 0; display: flex; gap: 20px; align-items: center; }
    .nav-item a { text-decoration: none; color: #333; padding: 10px 12px; display: flex; align-items: center; gap: 6px; }
    .nav-item a:hover { background: #f0f0f0; border-radius: 6px; }

    @media (max-width: 768px) {
      .header-bottom { flex-wrap: wrap; gap: 10px; align-items: center; }
      .search-box { width: 100%; min-width: 0; }
      .hamburger { display: flex; }

      nav { position: fixed; top: 0; right: -100%; width: 260px; height: 100%; flex-direction: column; padding-top: 60px; transition: right .3s; z-index: 30; border-left: 1px solid #eee; }
      nav.active { right: 0; }
      .menu-overlay { display: none; }

      .menu-overlay.active { display: block; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,.5); z-index: 20; }
    }

    /* Sections */
    .page-section { display: none; padding: 40px 20px; }
    .page-section.active { display: block; }

    /* Filters + categories bar */
    .filters { display: flex; flex-wrap: wrap; gap: 12px; align-items: center; margin: 12px 0 6px; }
    .filters label { font-size: 13px; color: #555; }
    .filters select, .filters input { padding: 8px 10px; border-radius: 6px; border: 1px solid #ccc; }

    .categories { display: flex; flex-wrap: wrap; gap: 20px; margin-top: 6px; }
    .category-card {
      background: var(--card); border-radius: 10px; padding: 16px; width: calc(25% - 12px);
      text-align: center; box-shadow: 0 2px 8px rgba(0,0,0,.08);
      min-width: 180px; cursor: pointer; transition: transform .2s;
      border: 2px solid transparent;
    }
    .category-card.active { border-color: var(--red); box-shadow: 0 4px 12px rgba(230,0,0,.25); transform: translateY(-2px); }
    .category-card:hover { transform: translateY(-2px); }
    .category-card i { font-size: 28px; color: var(--red); margin-bottom: 6px; display: block; }
    .category-card h3 { font-size: 14px; margin: 0; }

    .products-controls { display: flex; justify-content: space-between; align-items: center; gap: 12px; margin: 10px 0 20px; flex-wrap: wrap; }

    .products-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(210px, 1fr)); gap: 16px; }

    .product-card {
      background: var(--card); border-radius: 12px; padding: 14px; box-shadow: 0 2px 8px rgba(0,0,0,.08);
      display: flex; flex-direction: column; align-items: stretch;
      border: 1px solid #eee;
    }
    .product-image { height: 120px; display: flex; align-items: center; justify-content: center; background: #fafafa; border-radius: 8px; margin-bottom: 8px; }
    .product-image i { font-size: 48px; color: var(--red); }
    .product-title { font-weight: bold; font-size: 15px; margin: 6px 0; }
    .product-price { color: #333; font-weight: bold; margin: 4px 0 8px; }
    .rating { color: #f5a623; font-size: 13px; margin-bottom: 8px; }
    .btn { padding: 8px 10px; border-radius: 6px; border: 1px solid #ccc; background: #fff; cursor: pointer; font-size: 13px; display: inline-flex; align-items: center; gap: 6px; }
    .btn.primary { background: var(--red); color: #fff; border: none; }
    .btn.secondary { background: #f0f0f0; }

    .cart-indicator { background: var(--red); color: #fff; border-radius: 999px; padding: 2px 8px; font-size: 12px; }

    /* Modal paiement */
    .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,.6); display: none; align-items: center; justify-content: center; z-index: 40; }
    .modal-overlay.active { display: flex; }
    .modal { background: #fff; border-radius: 12px; width: min(520px, 92%); padding: 20px; box-shadow: 0 10px 40px rgba(0,0,0,.25); }
    .modal h3 { margin-top: 0; }
    .payment-option { display: flex; align-items: center; gap: 12px; padding: 12px; border: 1px solid #eee; border-radius: 8px; cursor: pointer; }
    .payment-option.active { border-color: var(--red); background: #fff6f6; }
    .payment-icon { font-size: 22px; width: 40px; text-align: center; color: var(--red); }
    .modal-actions { display: flex; justify-content: flex-end; gap: 10px; margin-top: 12px; }

    .card-form { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 8px; }
    .card-form input { padding: 8px; border: 1px solid #ccc; border-radius: 6px; }
    .hidden { display: none; }

    /* Footer */
    footer { background: #222; color: #ccc; padding: 40px 20px; }
    .footer-content { display: flex; flex-wrap: wrap; gap: 20px; }
    .footer-column { flex: 1; min-width: 200px; }
    .footer-column h3 { color: #fff; margin-bottom: 12px; }
    .footer-links { list-style: none; padding: 0; margin: 0; }
    .footer-links li { margin-bottom: 8px; }
    .footer-links a { color: #ccc; text-decoration: none; }
    .footer-links a:hover { text-decoration: underline; }
    .social-links { display: flex; gap: 10px; margin-top: 6px; }
    .social-link { color: #ccc; font-size: 20px; }
    .footer-bottom { text-align: center; margin-top: 20px; font-size: 13px; color: #777; }

    /* Newsletter & cookies */
    .newsletter-form { display: flex; margin-top: 6px; }
    .newsletter-input { flex: 1; padding: 8px 10px; border: 1px solid #555; border-radius: 4px 0 0 4px; }
    .newsletter-btn { background: var(--red); border: none; padding: 8px 12px; border-radius: 0 4px 4px 0; color: #fff; cursor: pointer; }

    .cookie-banner { position: fixed; bottom: 0; left: 0; right: 0; background: #fff; border-top: 1px solid #eee; padding: 12px 16px; display: flex; justify-content: space-between; align-items: center; gap: 12px; z-index: 50; }
    .cookie-banner p { margin: 0; font-size: 13px; color: #555; }
    .cookie-banner button { background: var(--red); color: #fff; border: none; padding: 8px 12px; border-radius: 6px; cursor: pointer; }

    /* No results message */
    .no-results { display: none; padding: 12px; color: #666; }
    .no-results.active { display: block; }
  </style>
</head>
<body>
  <div class="announcement-bar">
    Lancement officiel ! Livraison gratuite à Yaoundé et Douala pour toute commande > 10.000 FCFA
  </div>

  <!-- En-tête -->
  <header>
    <div class="container header-top">
      <a href="#home" class="logo" aria-label="Kamermall Accueil">
        <i class="fas fa-shopping-bag logo-icon"></i>
        <div>
          <div class="logo-text">KAMERMALL</div>
          <div class="logo-tagline">Marketplace 100% Camerounaise</div>
        </div>
      </a>

      <!-- Recherche + actions -->
      <div class="search-container" aria-label="Recherche principale">
        <input id="search-input" class="search-box" type="text" placeholder="Rechercher des produits..." />
        <button id="search-btn" class="search-btn" aria-label="Lancer la recherche">
          <i class="fas fa-search"></i>
        </button>
      </div>

      <div class="user-actions" aria-label="Actions utilisateur">
        <a href="#account" class="action-btn"><i class="fas fa-user"></i> Mon Compte</a>
        <a href="#favorites" class="action-btn"><i class="fas fa-heart"></i> Favoris</a>
        <button id="checkout-trigger" class="action-btn" aria-label="Payer">
          <i class="fas fa-credit-card"></i> Payer au Panier <span id="cart-count" class="cart-indicator" style="margin-left:6px; display:none;">0</span>
        </button>
      </div>

      <div class="hamburger" id="hamburger" tabindex="0" role="button" aria-label="Menu" aria-pressed="false">
        <span></span><span></span><span></span>
      </div>
    </div>

    <!-- Navigation -->
    <nav id="main-nav" aria-label="Menu principal" class="nav" >
      <ul class="nav-menu">
        <li class="nav-item"><a href="#home" class="nav-link"><i class="fas fa-home"></i> Accueil</a></li>
        <li class="nav-item"><a href="#categories" class="nav-link"><i class="fas fa-tags"></i> Catégories</a></li>
        <li class="nav-item"><a href="#products" class="nav-link"><i class="fas fa-box"></i> Produits</a></li>
        <li class="nav-item"><a href="#sellers" class="nav-link"><i class="fas fa-store"></i> Vendeurs</a></li>
        <li class="nav-item"><a href="#promotions" class="nav-link"><i class="fas fa-tag"></i> Promotions</a></li>
        <li class="nav-item"><a href="#about" class="nav-link"><i class="fas fa-info-circle"></i> À propos</a></li>
        <li class="nav-item"><a href="#contact" class="nav-link"><i class="fas fa-phone-alt"></i> Contact</a></li>
      </ul>
    </nav>
    <div id="overlay" class="menu-overlay" aria-hidden="true"></div>
  </header>

  <!-- Sections -->
  <main>
    <section id="home" class="page-section active" aria-labelledby="home-title">
      <h1 id="home-title">Bienvenue sur Kamermall</h1>
      <p>Marketplace 100% Camerounaise: achetez local, soutenez les vendeurs locaux.</p>
    </section>

    <section id="categories" class="page-section" aria-labelledby="categories-title">
      <h2 id="categories-title">Nos Catégories</h2>

      <!-- Filtres rapides et boutons catégories -->
      <div class="filters" aria-label="Filtres rapides">
        <span>Filtrer par catégorie:</span>
        <div id="categories-bar" class="categories" style="gap:12px;">
          <!-- Les catégories seront générées/actives dynamiquement ici -->
          <div class="category-card" data-category="Électronique" title="Électronique">
            <i class="fas fa-laptop"></i><h3>Électronique</h3>
          </div>
          <div class="category-card" data-category="Vêtements" title="Vêtements">
            <i class="fas fa-tshirt"></i><h3>Vêtements</h3>
          </div>
          <div class="category-card" data-category="Maison" title="Maison">
            <i class="fas fa-home"></i><h3>Maison</h3>
          </div>
          <div class="category-card" data-category="Automobile" title="Automobile">
            <i class="fas fa-car"></i><h3>Automobile</h3>
          </div>
        </div>
      </div>

      <div class="filters" aria-label="Filtrage avancé">
        <label>Prix min:</label>
        <input id="min-price" type="number" min="0" step="100" value="0" style="width:110px;" />
        <label>Prix max:</label>
        <input id="max-price" type="number" min="0" step="100" value="100000" style="width:110px;" />
        <label>Tri:</label>
        <select id="sort-select" aria-label="Trier par">
          <option value="popularity">Pertinence</option>
          <option value="price-asc">Prix croissant</option>
          <option value="price-desc">Prix décroissant</option>
          <option value="rating-desc">Avis (note)</option>
        </select>
        <button id="reset-filters" class="btn" style="margin-left:auto;">Réinitialiser</button>
      </div>

      <div class="categories" id="categories-list" role="list">
        <!-- Catégories principales (pour affichage visuel) -->
      </div>
    </section>

    <section id="products" class="page-section" aria-labelledby="products-title">
      <h2 id="products-title">Nos Produits</h2>

      <div class="products-controls" aria-label="Contrôles produits">
        <span>Résultats: <strong id="result-count">0</strong></span>
        <span id="no-results" class="no-results" aria-live="polite" style="display:none;">Aucun produit ne correspond à votre recherche.</span>
      </div>

      <div id="product-grid" class="products-grid" role="list" aria-label="Catalogue produit">
        <!-- Produit 1 -->
        <div class="product-card" data-id="p1" data-title="Smartphone X Pro" data-category="Électronique" data-price="29990" data-rating="4.5" data-tags="smartphone,phone" role="listitem" aria-label="Smartphone X Pro">
          <div class="product-image"><i class="fas fa-mobile-screen-button"></i></div>
          <div class="product-title">Smartphone X Pro</div>
          <div class="rating" aria-label="Note 4.5 sur 5">★★★★★</div>
          <div class="product-price">29 990 FCFA</div>
          <button class="btn add-to-cart" data-id="p1" aria-label="Ajouter Smartphone X Pro au panier">
            <i class="fas fa-plus"></i>Ajouter au panier
          </button>
        </div>

        <!-- Produit 2 -->
        <div class="product-card" data-id="p2" data-title="T-shirt Casual Masculin" data-category="Vêtements" data-price="5500" data-rating="4.2" data-tags="vetements,tshirt" role="listitem" aria-label="T-shirt Casual Masculin">
          <div class="product-image"><i class="fas fa-tshirt"></i></div>
          <div class="product-title">T-shirt Casual Masculin</div>
          <div class="rating" aria-label="Note 4.2 sur 5">★★★★☆</div>
          <div class="product-price">5 500 FCFA</div>
          <button class="btn add-to-cart" data-id="p2" aria-label="Ajouter T-shirt Casual au panier">
            <i class="fas fa-plus"></i>Ajouter au panier
          </button>
        </div>

        <!-- Produit 3 -->
        <div class="product-card" data-id="p3" data-title="Cafetière Express" data-category="Maison" data-price="18750" data-rating="4.0" data-tags="cafe,électroménager" role="listitem" aria-label="Cafetière Express">
          <div class="product-image"><i class="fas fa-coffee"></i></div>
          <div class="product-title">Cafetière Express</div>
          <div class="rating" aria-label="Note 4.0 sur 5">★★★★</div>
          <div class="product-price">18 750 FCFA</div>
          <button class="btn add-to-cart" data-id="p3" aria-label="Ajouter Cafetière Express au panier">
            <i class="fas fa-plus"></i>Ajouter au panier
          </button>
        </div>

        <!-- Produit 4 -->
        <div class="product-card" data-id="p4" data-title="Lampe LED Designer" data-category="Maison" data-price="3900" data-rating="4.3" data-tags="luminaire,éclairage" role="listitem" aria-label="Lampe LED Designer">
          <div class="product-image"><i class="fas fa-lightbulb"></i></div>
          <div class="product-title">Lampe LED Designer</div>
          <div class="rating" aria-label="Note 4.3 sur 5">★★★★☆</div>
          <div class="product-price">3 900 FCFA</div>
          <button class="btn add-to-cart" data-id="p4" aria-label="Ajouter Lampe LED au panier">
            <i class="fas fa-plus"></i>Ajouter au panier
          </button>
        </div>

        <!-- Produit 5 -->
        <div class="product-card" data-id="p5" data-title="Chaussures Sport Noir" data-category="Vêtements" data-price="9990" data-rating="4.1" data-tags="chaussures,sport" role="listitem" aria-label="Chaussures Sport Noir">
          <div class="product-image"><i class="fas fa-shoe-prints"></i></div>
          <div class="product-title">Chaussures Sport Noir</div>
          <div class="rating" aria-label="Note 4.1 sur 5">★★★★</div>
          <div class="product-price">9 990 FCFA</div>
          <button class="btn add-to-cart" data-id="p5" aria-label="Ajouter Chaussures Sport au panier">
            <i class="fas fa-plus"></i>Ajouter au panier
          </button>
        </div>

        <!-- Produit 6 -->
        <div class="product-card" data-id="p6" data-title="Vélo Ville 26''" data-category="Électronique" data-price="65000" data-rating="4.6" data-tags="vélo,transport" role="listitem" aria-label="Vélo Ville 26''">
          <div class="product-image"><i class="fas fa-bicycle"></i></div>
          <div class="product-title">Vélo Ville 26''</div>
          <div class="rating" aria-label="Note 4.6 sur 5">★★★★★</div>
          <div class="product-price">65 000 FCFA</div>
          <button class="btn add-to-cart" data-id="p6" aria-label="Ajouter Vélo au panier">
            <i class="fas fa-plus"></i>Ajouter au panier
          </button>
        </div>
      </div>
      <div class="no-results" id="no-resultsMessage" aria-live="polite" style="margin-top:8px; display:none;">Aucun produit ne correspond.</div>
    </section>

    <section id="sellers" class="page-section" aria-labelledby="sellers-title">
      <h2 id="sellers-title">Vendeurs</h2>
      <p>Liste des vendeurs partenaires (section fictive pour démonstration).</p>
    </section>

    <section id="promotions" class="page-section" aria-labelledby="promotions-title">
      <h2 id="promotions-title">Promotions</h2>
      <p>Offres et réductions en cours.</p>
    </section>

    <section id="about" class="page-section" aria-labelledby="about-title">
      <h2 id="about-title">À propos</h2>
      <p>Kamermall est une marketplace camerounaise.</p>
    </section>

    <section id="contact" class="page-section" aria-labelledby="contact-title">
      <h2 id="contact-title">Contact</h2>
      <p>Nous contacter: contact@kamermall.cm</p>
    </section>
  </main>

  <!-- PIED DE PAGE -->
  <footer>
    <div class="footer-content">
      <div class="footer-column">
        <h3>KAMERMALL</h3>
        <p>La première marketplace 100% camerounaise, connectant acheteurs et vendeurs locaux.</p>
        <div class="social-links">
          <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
          <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
          <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
          <a href="#" class="social-link"><i class="fab fa-whatsapp"></i></a>
        </div>
      </div>
      <div class="footer-column">
        <h3>Liens Rapides</h3>
        <ul class="footer-links">
          <li><a href="#home">Accueil</a></li>
          <li><a href="#categories">Catégories</a></li>
          <li><a href="#products">Produits</a></li>
          <li><a href="#about">À propos</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
      </div>
      <div class="footer-column">
        <h3>Service Client</h3>
        <ul class="footer-links">
          <li><a href="#help">Aide & FAQ</a></li>
          <li><a href="#shipping">Livraison</a></li>
          <li><a href="#returns">Retours</a></li>
          <li><a href="#terms">Conditions</a></li>
          <li><a href="#privacy">Confidentialité</a></li>
        </ul>
      </div>
      <div class="footer-column">
        <h3>Newsletter</h3>
        <p>Inscrivez-vous pour recevoir nos offres exclusives</p>
        <form class="newsletter-form" onsubmit="return false;">
          <input type="email" class="newsletter-input" placeholder="Votre email" />
          <button type="submit" class="newsletter-btn">S'inscrire</button>
        </form>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2024 Kamermall. Tous droits réservés.</p>
    </div>
  </footer>

  <!-- Modal paiement -->
  <div id="payment-modal" class="modal-overlay" aria-hidden="true" role="dialog" aria-label="Paiement">
    <div class="modal" aria-labelledby="payment-title">
      <h3 id="payment-title">Paiement sécurisé</h3>
      <p>Sélectionnez votre moyen de paiement:</p>

      <div id="momo-option" class="payment-option" data-method="momo" tabindex="0" role="button" aria-label="Paiement MoMo">
        <div class="payment-icon"><i class="fab fa-mizuni" aria-hidden="true"></i></div>
        <div><strong>Mobile Money (MoMo)</strong><div style="font-size:12px;color:#555;"> MTN Momo / MTN ou Orange Money</div></div>
      </div>

      <div id="om-option" class="payment-option" data-method="om" tabindex="0" role="button" aria-label="Paiement Orange Money">
        <div class="payment-icon"><i class="fas fa-wallet" aria-hidden="true"></i></div>
        <div><strong>Orange Money (OM)</strong><div style="font-size:12px;color:#555;">Paiement via Orange Money</div></div>
      </div>

      <div id="card-option" class="payment-option" data-method="card" tabindex="0" role="button" aria-label="Paiement par Carte Bancaire">
        <div class="payment-icon"><i class="fas fa-credit-card" aria-hidden="true"></i></div>
        <div><strong>Carte Bancaire</strong><div style="font-size:12px;color:#555;">Paiement par carte (Visa/Mc)</div></div>
      </div>

      <div id="cod-option" class="payment-option" data-method="cod" tabindex="0" role="button" aria-label="Paiement à la livraison">
        <div class="payment-icon"><i class="fas fa-truck" aria-hidden="true"></i></div>
        <div><strong>Paiement à la livraison</strong><div style="font-size:12px;color:#555;">Paiement à la livraison (COD)</div></div>
      </div>

      <div id="paypal-option" class="payment-option" data-method="paypal" tabindex="0" role="button" aria-label="Paiement PayPal">
        <div class="payment-icon"><i class="fab fa PayPal" aria-hidden="true" style="font-family: 'Font Awesome 5 Brands';"></i></div>
        <div><strong>PayPal</strong><div style="font-size:12px;color:#555;">Paiement via PayPal</div></div>
      </div>

      <div class="hidden" id="card-form-container" aria-live="polite" style="margin-top:10px;">
        <div class="card-form" aria-label="formulaire carte bancaire">
          <input id="card-number" placeholder="N° de carte" />
          <input id="card-name" placeholder="Titulaire" />
          <input id="card-expiry" placeholder="MM/AA" />
          <input id="card-cvv" placeholder="CVV" />
        </div>
      </div>

      <div class="modal-actions">
        <button id="pay-button" class="btn primary" disabled><i class="fas fa-check"></i> Confirmer le paiement</button>
        <button id="cancel-pay" class="btn" aria-label="Annuler paiement">Annuler</button>
      </div>

      <div id="payment-status" style="margin-top:12px; font-size:14px; color:#333;"></div>
    </div>
  </div>

  <!-- Overlay (mobile menu) -->
  <div id="screen-overlay" class="menu-overlay" style="display:none;"></div>

  <!-- Cookie banner -->
  <div class="cookie-banner" id="cookie-banner">
    <p>Nous utilisons des cookies pour améliorer votre expérience. En poursuivant, vous acceptez notre politique de cookies.</p>
    <button id="cookie-accept">Accepter</button>
  </div>

  <!-- Script -->
  <script>
    // Éléments principaux
    const searchInput = document.getElementById('search-input');
    const searchBtn = document.getElementById('search-btn');
    const productGrid = document.getElementById('product-grid');
    const noResultsEl = document.getElementById('no-results');
    const resultCountEl = document.getElementById('result-count');
    const addToCartButtons = document.querySelectorAll('.add-to-cart');
    const cartCountEl = document.getElementById('cart-count');
    const checkoutTrigger = document.getElementById('checkout-trigger');
    const paymentModal = document.getElementById('payment-modal');
    const overlay = document.getElementById('overlay');
    const momoOption = document.getElementById('momo-option');
    const omOption = document.getElementById('om-option');
    const cardOption = document.getElementById('card-option');
    const codOption = document.getElementById('cod-option');
    const paypalOption = document.getElementById('paypal-option');
    const payButton = document.getElementById('pay-button');
    const cancelPay = document.getElementById('cancel-pay');
    const paymentStatus = document.getElementById('payment-status');
    const screenOverlay = document.getElementById('screen-overlay');
    const hamburger = document.getElementById('hamburger');
    const mainNav = document.getElementById('main-nav');
    const navLinks = document.querySelectorAll('.nav-link');
    const overlayEl = document.getElementById('overlay');
    const minPriceInput = document.getElementById('min-price');
    const maxPriceInput = document.getElementById('max-price');
    const sortSelect = document.getElementById('sort-select');
    const categoryBar = document.getElementById('categories-bar');
    const categoryCards = document.querySelectorAll('.category-card');
    const resetFiltersBtn = document.getElementById('reset-filters');
    const productCardNodes = document.querySelectorAll('.product-card');
    const productGridList = document.getElementById('product-grid');
    const cardFormContainer = document.getElementById('card-form-container');
    const cardNumberInput = document.getElementById('card-number');
    const cardNameInput = document.getElementById('card-name');
    const cardExpiryInput = document.getElementById('card-expiry');
    const cardCvvInput = document.getElementById('card-cvv');
    const cookieBanner = document.getElementById('cookie-banner');
    const cookieAccept = document.getElementById('cookie-accept');

    // État des filtres
    let cart = [];
    let currentQuery = '';
    let currentCategory = 'all';
    let minPrice = 0;
    let maxPrice = 100000;
    let currentSort = 'popularity';
    let showCardForm = false;

    // Helpers
    function formatPrice(n) {
      return new Intl.NumberFormat('fr-FR', { style: 'currency', currency: 'XOF', minimumFractionDigits: 0 }).format(n);
    }

    function renderRatingStars(rating) {
      // rating: 0-5 avec ou sans décimales
      const full = Math.floor(rating);
      const half = rating - full >= 0.5;
      let s = '★★★★★'.slice(0, full);
      if (half) s += '☆';
      // Pad to 5
      while (s.length < 5) s += '☆';
      return s;
    }

    // Filtrage des produits
    function filterProducts() {
      const cards = productGrid.querySelectorAll('.product-card');
      let visible = 0;
      cards.forEach(card => {
        const title = (card.dataset.title || '').toLowerCase();
        const cat = (card.dataset.category || '');
        const price = parseInt(card.dataset.price || '0', 10);
        const tags = (card.dataset.tags || '').toLowerCase();
        const inQuery = !currentQuery || title.includes(currentQuery) || tags.includes(currentQuery);
        const inCategory = currentCategory === 'all' || cat === currentCategory;
        const inPrice = price >= minPrice && price <= maxPrice;
        const show = inQuery && inCategory && inPrice;
        card.style.display = show ? 'flex' : 'none';
        if (show) visible++;
      });

      // Tri
      const grid = productGrid;
      const itemsArray = Array.from(grid.querySelectorAll('.product-card')).filter(card => card.style.display !== 'none');
      if (currentSort === 'price-asc' || currentSort === 'price-desc') {
        itemsArray.sort((a, b) => {
          const pa = parseInt(a.dataset.price, 10);
          const pb = parseInt(b.dataset.price, 10);
          return currentSort === 'price-asc' ? pa - pb : pb - pa;
        });
        // Reorder DOM
        itemsArray.forEach(item => grid.appendChild(item));
      } else if (currentSort === 'rating-desc') {
        itemsArray.sort((a, b) => {
          const ra = parseFloat(a.dataset.rating || '0');
          const rb = parseFloat(b.dataset.rating || '0');
          return rb - ra;
        });
        itemsArray.forEach(item => grid.appendChild(item));
      }
      resultCountEl.textContent = visible;
      noResultsEl.style.display = visible === 0 ? 'block' : 'none';
    }

    // Recherche live
    function updateSearchFromQuery() {
      currentQuery = (searchInput.value || '').toLowerCase().trim();
      filterProducts();
    }

    // Catégories: marque l'élément actif et filtre
    function setActiveCategory(cat) {
      currentCategory = cat;
      categoryCards.forEach(card => {
        const c = (card.dataset.category || '').toLowerCase();
        if (cat === 'all') card.classList.remove('active');
        else card.classList.toggle('active', c === cat.toLowerCase());
      });
      // Si cat = 'all', on retire les états
      if (cat === 'all') {
        categoryCards.forEach(card => card.classList.remove('active'));
      }
      filterProducts();
    }

    // Ouverture du modal paiement
    function openPaymentModal() {
      paymentStatus.textContent = '';
      // réinitialiser sélection
      [momoOption, omOption, cardOption, codOption, paypalOption].forEach(el => el.classList.remove('active'));
      payButton.disabled = true;
      // masquer formulaire carte tant que non nécessaire
      cardFormContainer.classList.add('hidden');
      showCardForm = false;
      paymentModal.classList.add('active');
      paymentModal.setAttribute('aria-hidden', 'false');
      overlay.style.display = 'block';
    }

    function closePaymentModal() {
      paymentModal.classList.remove('active');
      paymentModal.setAttribute('aria-hidden', 'true');
      overlay.style.display = 'none';
      screenOverlay.style.display = 'none';
      // reset card form fields
      cardNumberInput && (cardNumberInput.value = '');
      cardNameInput && (cardNameInput.value = '');
      cardExpiryInput && (cardExpiryInput.value = '');
      cardCvvInput && (cardCvvInput.value = '');
    }

    function selectPaymentMethod(el) {
      [momoOption, omOption, cardOption, codOption, paypalOption].forEach(o => o.classList.remove('active'));
      el.classList.add('active');
      // montrer formulaire carte si carte bancaire
      if (el === cardOption) {
        cardFormContainer.classList.remove('hidden');
        showCardForm = true;
        // activer le bouton si les champs non vides
        validateCardForm();
      } else {
        cardFormContainer.classList.add('hidden');
        showCardForm = false;
      }
      payButton.disabled = false;
    }

    function validateCardForm() {
      const num = cardNumberInput?.value.trim() || '';
      const name = cardNameInput?.value.trim() || '';
      const exp = cardExpiryInput?.value.trim() || '';
      const cvv = cardCvvInput?.value.trim() || '';
      const valid = num.length >= 12 && name.length >= 2 && exp.length >= 4 && cvv.length >= 3;
      payButton.disabled = !valid;
    }

    // Événements paiement
    momoOption.addEventListener('click', () => selectPaymentMethod(momoOption));
    omOption.addEventListener('click', () => selectPaymentMethod(omOption));
    cardOption.addEventListener('click', () => selectPaymentMethod(cardOption));
    codOption.addEventListener('click', () => selectPaymentMethod(codOption));
    paypalOption.addEventListener('click', () => selectPaymentMethod(paypalOption));

    // Carte bancaire: live validation
    if (cardNumberInput) cardNumberInput.addEventListener('input', validateCardForm);
    if (cardNameInput) cardNameInput.addEventListener('input', validateCardForm);
    if (cardExpiryInput) cardExpiryInput.addEventListener('input', validateCardForm);
    if (cardCvvInput) cardCvvInput.addEventListener('input', validateCardForm);

    payButton.addEventListener('click', () => {
      const method = (document.querySelector('.payment-option.active')?.dataset?.method) || '';
      if (!method) return;
      paymentStatus.textContent = `Paiement en cours via ${method.toUpperCase()}...`;
      // Simulation
      setTimeout(() => {
        paymentStatus.textContent = 'Paiement réussi ! Commande confirmée.';
        // vider panier
        cart = [];
        cartCountEl.style.display = 'none';
        cartCountEl.textContent = '0';
        closePaymentModal();
      }, 1200);
    });

    cancelPay.addEventListener('click', () => closePaymentModal());

    // Panier: ajouter au panier
    function addToCart(productCard) {
      const title = productCard.dataset.title;
      const priceValue = parseInt(productCard.dataset.price || '0', 10) || 0;
      const item = { title, price: priceValue };
      cart.push(item);
      cartCountEl.style.display = 'inline-block';
      cartCountEl.textContent = cart.length;
    }

    addToCartButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        const card = btn.closest('.product-card');
        addToCart(card);
        // petit feedback
        btn.innerHTML = '<i class="fas fa-check"></i> Ajouté';
        setTimeout(() => btn.innerHTML = '<i class="fas fa-plus"></i>Ajouter au panier', 900);
      });
    });

    // Bouton Panier: ouvrir paiement
    checkoutTrigger.addEventListener('click', (e) => {
      if (cart.length === 0) {
        alert('Votre panier est vide. Ajoutez des articles avant de payer.');
        return;
      }
      openPaymentModal();
    });

    // Menu hamburger + overlay (Mobile)
    function toggleMobileMenu(show) {
      if (show) {
        mainNav.classList.add('active'); overlayEl.style.display = 'block'; overlayEl.classList.add('active');
        document.body.style.overflow = 'hidden';
        hamburger.setAttribute('aria-pressed', 'true');
      } else {
        mainNav.classList.remove('active'); overlayEl.style.display = 'none'; overlayEl.classList.remove('active');
        document.body.style.overflow = '';
        hamburger.setAttribute('aria-pressed', 'false');
      }
    }

    hamburger.addEventListener('click', () => {
      const isActive = mainNav.classList.contains('active');
      toggleMobileMenu(!isActive);
    });
    overlayEl.addEventListener('click', () => toggleMobileMenu(false));

    // Navigation entre sections (clique sur le menu)
    navLinks.forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const targetId = link.getAttribute('href').slice(1);
        showSection(targetId);
        // Fermer menu si ouvert sur mobile
        if (mainNav.classList.contains('active')) toggleMobileMenu(false);
      });
    });

    function showSection(id) {
      document.querySelectorAll('.page-section').forEach(sec => sec.classList.remove('active'));
      const target = document.getElementById(id);
      if (target) target.classList.add('active');
      // scroll to top
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Reset filters
    resetFiltersBtn.addEventListener('click', () => {
      currentQuery = '';
      searchInput.value = '';
      currentCategory = 'all';
      minPrice = 0; maxPrice = 100000;
      minPriceInput.value = 0; maxPriceInput.value = 100000;
      sortSelect.value = 'popularity';
      currentSort = 'popularity';
      setActiveCategory('all');
      filterProducts();
    });

    // Catégories dynamiques dans la page (barre de catégories)
    // Délimiter les événements sur chaque bouton catégorie
    categoryCards.forEach(card => {
      card.addEventListener('click', () => {
        const cat = (card.dataset.category || 'all').toLowerCase();
        setActiveCategory(cat);
      });
    });

    // Recherche et filtres
    searchInput.addEventListener('input', updateSearchFromQuery);
    searchBtn.addEventListener('click', updateSearchFromQuery);

    minPriceInput.addEventListener('input', () => {
      const v = parseInt(minPriceInput.value || '0', 10);
      minPrice = Number.isFinite(v) ? v : 0;
      filterProducts();
    });
    maxPriceInput.addEventListener('input', () => {
      const v = parseInt(maxPriceInput.value || '100000', 10);
      maxPrice = Number.isFinite(v) ? v : 100000;
      filterProducts();
    });
    sortSelect.addEventListener('change', () => {
      currentSort = sortSelect.value;
      filterProducts();
    });

    // Cookies banner
    cookieAccept.addEventListener('click', () => {
      cookieBanner.style.display = 'none';
      localStorage.setItem('cookiesAccepted', 'true');
    });
    // Init cookies: si déjà accepté
    if (localStorage.getItem('cookiesAccepted') === 'true') {
      cookieBanner.style.display = 'none';
    }

    // Sections et démarrage
    const homeSection = document.getElementById('home');
    showSection('home');
    // Appel initial du filtre pour afficher tout
    filterProducts();

    // Initialisation des barres cat affichées
    // Ajoute les catégories dans la liste principale (optionnel)
    const categoriesList = document.getElementById('categories-list');
    const baseCategories = ['Électronique', 'Vêtements', 'Maison', 'Automobile'];
    baseCategories.forEach(cat => {
      const el = document.createElement('div');
      el.className = 'category-card';
      el.style.cursor = 'default';
      el.innerHTML = `<i class="fas fa-tag"></i><div style="font-size:12px">${cat}</div>`;
      el.style.display = 'none'; // visuel optionnel (peut être activé si voulu)
      categoriesList.appendChild(el);
    });
  </script>
</body>
</html>
